var Timer=function(c,a,b,d){d=typeof d!=="undefined"?d:1000;this.delayMs=d;this.htmlTimer=c;this.callbackFunc=a;this.onTimerEndFunc=b;this.timerState="new"};Timer.prototype.start=function(){if(this.tmr){return}this.timerState="running";this.repeat()};Timer.prototype.repeat=function(){var a=this;this.tmr=setTimeout(function(){a._handleTmr();if(a.tmr){a.repeat()}},this.delayMs)};Timer.prototype.stop=function(){if(!this.tmr){return}clearTimeout(this.tmr);this.tmr=null;this.timerState="standby"};Timer.prototype._initFunc=function(){var f=this.htmlTimer.html();var c=f.split(":");var e=new Date();e.setHours(c[0]);e.setMinutes(c[1]);e.setSeconds(c[2]);var a=new Date(e.valueOf()-this.delayMs);var b=a.toTimeString().split(" ");var d=b[0].split(":");this.htmlTimer.html(d[0]+":"+d[1]+":"+d[2]);if((d[0]==="00")&&(d[1]==="00")&&(d[2]==="00")){this.stop();if(this.onTimerEndFunc){this.onTimerEndFunc()}}};Timer.prototype._handleTmr=function(){this._initFunc();if(this.callbackFunc){this.callbackFunc()}};